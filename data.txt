document.body.innerHTML = '<style>body{margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background:#000;}</style><canvas></canvas>'; c = document.querySelector('canvas').getContext('2d'); w = c.canvas.width = 600; h = c.canvas.height = 400; px = 40; py = h / 2; opx = w - 40; opy = h / 2; bx = w / 2; by = h / 2; xv = yv = 3.5; pH = 100; keys = {}; ps = 0; os = 0; function reset() { bx = w / 2; by = h / 2; xv = 3.5 * (Math.random() > 0.5 ? 1 : -1); yv = 3.5 * (Math.random() > 0.5 ? 1 : -1); } function loop() { c.clearRect(0, 0, w, h); c.fillStyle = '#fff'; c.font = '30px Arial'; c.fillText(ps, 10, 30); c.fillText(os, w - 40, 30); c.fillRect(px - 10, py - pH / 2, 10, pH); c.fillRect(opx - 10, opy - pH / 2, 10, pH); c.fillRect(bx, by, 10, 10); if (ps >= 10 || os >= 10) { c.fillText(ps >= 10 ? 'Yay!' : 'Aww!', w / 2 - 50, h / 2); return; } if (keys['ArrowUp']) py -= 4.5; if (keys['ArrowDown']) py += 4.5; if (by > opy) opy += 3; if (by < opy) opy -= 3; bx += xv; by += yv; if (by <= 0 || by >= h) yv = -yv; if (bx < 0) { os++; reset(); } if (bx > w) { ps++; reset(); } if (bx <= px && bx >= px - 10 && by >= py - pH / 2 && by <= py + pH / 2) { xv = -xv; bx = px + 10; } if (bx >= opx - 10 && bx <= opx && by >= opy - pH / 2 && by <= opy + pH / 2) { xv = -xv; bx = opx - 20; } requestAnimationFrame(loop); } addEventListener('keydown', e => keys[e.key] = true); addEventListener('keyup', e => keys[e.key] = false); loop();